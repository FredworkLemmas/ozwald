[tox]
envlist = py38, py39, py310, py311, py312, lint, type
isolated_build = true
skipsdist = false

[testenv]
description = Run tests with coverage
deps =
    .[dev]
commands =
    pytest --cov=src --cov-report=term-missing {posargs}
passenv =
    OZWALD_*

[testenv:lint]
description = Ruff lint and format check
skip_install = true
deps =
    ruff
commands =
    ruff check .
    ruff format --check .

[testenv:type]
description = Type checking with mypy
skip_install = true
deps =
    mypy
commands =
    mypy src
